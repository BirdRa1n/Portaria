(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{240:function(e,t,r){"use strict";r.d(t,"a",(function(){return X}));var n=r(239),c=r(0),a=r.n(c),s=r(355),o=r(360),i=r(357),j=r(84),l=r(241),b=r(1),d=r.n(b),h=r(2),O=r.n(h),x=r(9),u=r.n(x),p=r(165),f=r(358),m=r(344),g=r(366),w=r(345),v=r(18),S=r(346),y=r(347),P=r(52),I=r(332),z=r(227),_=r(348),C=r(361),D=r(362),k=r(363),A=r(142),E=r(349),T=r(125),L=r.n(T),R=r(7);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){var t=e.navigation,r=a.a.useState({}),n=O()(r,2),c=n[0],s=n[1];var o=function(e){var t;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=JSON.stringify(e),r.next=4,u.a.awrap(A.a.setItem("@data_user",t));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log("erro ao efetuar o estado "+r.t0);case 9:case"end":return r.stop()}}),null,null,[[0,6]],Promise)};return Object(R.jsx)(f.a,{children:Object(R.jsx)(m.a,{w:"100%",h:"100%",bg:"#fff",children:Object(R.jsx)(g.a,{children:Object(R.jsx)(w.a,{children:Object(R.jsxs)(v.a,{w:"90%",maxW:400,h:"91%",maxH:"900",bg:"light.100",borderRadius:10,top:5,children:[Object(R.jsx)(w.a,{children:Object(R.jsx)(S.a,{top:5,source:{uri:"https://pbs.twimg.com/profile_images/438771627854024704/Az4OY07a_400x400.png"},alt:"Alternate Text",size:"sm"})}),Object(R.jsxs)(w.a,{top:5,children:[Object(R.jsx)(y.a,{size:"sm",children:"INSTITUTO"}),Object(R.jsx)(y.a,{size:"sm",children:"FEDERAL"}),Object(R.jsx)(P.a,{fontSize:"xl",children:"Piau\xed"})]}),Object(R.jsx)(w.a,{w:"100%",children:Object(R.jsxs)(v.a,{safeArea:!0,p:"2",py:"8",w:"90%",maxW:"290",children:[Object(R.jsx)(y.a,{size:"lg",fontWeight:"600",color:"coolGray.800",_dark:{color:"warmGray.50"},children:"Bem vindo de volta"}),Object(R.jsx)(y.a,{mt:"1",_dark:{color:"warmGray.200"},color:"coolGray.600",fontWeight:"medium",size:"xs",children:"fa\xe7a login para continuar!"}),Object(R.jsxs)(p.a,{space:3,mt:"5",children:[Object(R.jsxs)(I.a,{isInvalid:c.IDState,children:[Object(R.jsx)(I.a.Label,{children:Object(R.jsxs)(z.a,{space:2,children:[Object(R.jsx)(I.a.Label,{children:"ID"}),Object(R.jsx)(I.a.ErrorMessage,{top:-1.2,leftIcon:Object(R.jsx)(_.a,{size:"xs"}),children:"Usu\xe1rio n\xe3o encontrado"})]})}),Object(R.jsx)(C.a,{onChangeText:function(e){return s(F(F({},c),{},{id_code:e}))}})]}),Object(R.jsxs)(I.a,{isInvalid:c.PasswordState,children:[Object(R.jsx)(I.a.Label,{children:Object(R.jsxs)(z.a,{space:2,children:[Object(R.jsx)(I.a.Label,{children:"Senha"}),Object(R.jsx)(I.a.ErrorMessage,{top:-1.2,leftIcon:Object(R.jsx)(_.a,{size:"xs"}),children:"Senha incorreta"})]})}),Object(R.jsx)(C.a,{type:"password",onChangeText:function(e){return s(F(F({},c),{},{password:e}))}}),Object(R.jsx)(D.a,{_text:{fontSize:"xs",fontWeight:"500",color:"success.500"},alignSelf:"flex-end",mt:"1",children:"Esqueceu a senha?"})]}),Object(R.jsx)(k.a,{mt:"2",colorScheme:"success",onPress:function(){L.a.get("https://birdra1n.x10.bz/IFPI_PORTARIA/api/user/login/",{params:{method:"normal",id_code:c.id_code,password:c.password}}).then((function(e){var r=e.data;o(e.data),void 0!=r.warning_error&"user does not exist"==r.warning_error&&s(F(F({},c),{},{IDState:!0,PasswordState:!1})),void 0!=r.warning_error&"incorrect password"==r.warning_error&&s(F(F({},c),{},{PasswordState:!0,IDState:!1})),void 0!==e.data.token_session&&(s(F(F({},c),{},{PasswordState:!1,IDState:!1})),t.navigate("Dashboard"))}))},children:"Entrar"}),Object(R.jsxs)(z.a,{mt:"6",justifyContent:"center",children:[Object(R.jsxs)(P.a,{fontSize:"sm",color:"coolGray.600",_dark:{color:"warmGray.200"},children:["Veja o projeto no"," "]}),Object(R.jsx)(D.a,{_text:{color:"success.500",fontWeight:"medium",fontSize:"sm"},href:"#",children:"GitHub"})]}),Object(R.jsx)(w.a,{children:Object(R.jsx)(k.a,{colorScheme:"success",leftIcon:Object(R.jsx)(E.a,{name:"qrcode-scan",size:24,color:"black"}),children:"Entre com QRCode"})})]})]})})]})})})})})}var N=r(350),G=r(356),H=r(351),J=r(169);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){e.navigation;var t=a.a.useState({}),r=O()(t,2),n=r[0],s=r[1],o=a.a.useState({}),i=O()(o,2),j=i[0],l=i[1],b=a.a.useState(!1),d=O()(b,2),h=(d[0],d[1]),x=Object(N.a)(),g=x.isOpen,I=x.onOpen,_=x.onClose;return Object(c.useEffect)((function(){L.a.get("https://birdra1n.x10.bz/IFPI_PORTARIA/api/keys/list",{params:{filter:"all"}}).then((function(e){console.log(e),s(q(q({},n),{},{HallList:e.data}))})),function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(A.a.getItem("@data_user"));case 3:e=t.sent,l(JSON.parse(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}()}),[]),Object(R.jsxs)(f.a,{children:[Object(R.jsxs)(v.a,{w:"100%",bg:"#FBFBFB",maxW:500,h:"100%",children:[Object(R.jsx)(v.a,{p:2,safeArea:!0,children:Object(R.jsxs)(z.a,{children:[Object(R.jsx)(S.a,{source:{uri:"https://pbs.twimg.com/profile_images/438771627854024704/Az4OY07a_400x400.png"},alt:"Alternate Text",size:"sm"}),Object(R.jsxs)(m.a,{marginLeft:"2%",children:[Object(R.jsx)(y.a,{size:"sm",children:j.name}),Object(R.jsx)(P.a,{fontSize:10,children:j.description}),Object(R.jsx)(P.a,{fontSize:10,top:2,children:"INSTITUTO FEDERAL CAMPUS PEDRO II"})]})]})}),Object(R.jsx)(w.a,{top:5,children:Object(R.jsx)(H.a,{w:"95%",maxW:350,h:"80%",numColumns:3,columnWrapperStyle:{flex:1,justifyContent:"space-around",marginLeft:5,marginBottom:5},showsVerticalScrollIndicator:!1,data:n.HallList,renderItem:function(e){var t=e.item;return Object(R.jsx)(J.a,{onPress:function(){return e=t.hall,r=t.description,c=t.status,a=t.conveyer,h(!1),I(),void s(q(q({},n),{},{hall:e,description:r,status:c,conveyer:a,conveyer:a}));var e,r,c,a},children:Object(R.jsx)(v.a,{marginBottom:1,alignItems:"center",bg:"light.50",borderRadius:5,w:16,h:59,p:1,shadow:1,children:Object(R.jsx)(z.a,{children:Object(R.jsxs)(p.a,{children:[Object(R.jsx)(y.a,{size:"sm",children:"Sala"}),Object(R.jsx)(y.a,{children:t.hall})]})})})})},keyExtractor:function(e){return e.id}})})]}),Object(R.jsxs)(G.a,{isOpen:g,onClose:_,children:[Object(R.jsx)(w.a,{children:Object(R.jsx)((function(){var e=Object(N.a)(),t=e.isOpen,r=e.onOpen,n=e.onClose;return Object(R.jsxs)(w.a,{top:120,children:[Object(R.jsx)(k.a,{onPress:r,children:"Actionsheet"}),Object(R.jsx)(G.a,{isOpen:t,onClose:n,children:Object(R.jsxs)(G.a.Content,{children:[Object(R.jsx)(v.a,{w:"100%",h:60,px:4,justifyContent:"center",children:Object(R.jsx)(P.a,{fontSize:"16",color:"gray.500",_dark:{color:"gray.300"},children:"Albums"})}),Object(R.jsx)(G.a.Item,{children:"Delete"}),Object(R.jsx)(G.a.Item,{children:"Share"}),Object(R.jsx)(G.a.Item,{children:"Play"}),Object(R.jsx)(G.a.Item,{children:"Favourite"}),Object(R.jsx)(G.a.Item,{children:"Cancel"})]})})]})}),{})}),Object(R.jsxs)(G.a.Content,{children:[Object(R.jsxs)(z.a,{w:"100%",top:-10,children:[Object(R.jsx)(m.a,{w:"81%"}),Object(R.jsx)(J.a,{onPress:_,children:Object(R.jsx)(y.a,{size:"sm",children:"Fechar"})})]}),Object(R.jsxs)(v.a,{w:"100%",px:4,justifyContent:"center",children:[Object(R.jsxs)(y.a,{fontSize:18,children:["Deseja solicitar a chave da sala ",n.hall,"?"]}),Object(R.jsx)(P.a,{marginBottom:21,fontSize:"md",children:n.description}),Object(R.jsx)(w.a,{marginBottom:50,children:Object(R.jsxs)(z.a,{space:2,children:[Object(R.jsx)(k.a,{onPress:function(){return RequestKey(n.signature_digital,n.hall)},w:120,bg:"green.700",colorScheme:"green",children:"Sim"}),Object(R.jsx)(k.a,{onPress:function(){return _(!1)},w:120,bg:"white",shadow:1,_text:{color:"black"},colorScheme:"red",children:"N\xe3o"})]})})]})]})]})]})}var V=Object(o.a)(),Y=Object(i.a)(),K=n.a("/");function Q(){return Object(R.jsx)(Y.Navigator,{screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){var r,n=e.focused,c=e.color,a=e.size;return"Chaves"===t.name?r=n?"ios-home-outline":"ios-home-sharp":"Solicita\xe7\xf5es"===t.name?r="reorder-three-sharp":"Conta"===t.name&&(r=n?"person-circle-outline":"person-circle"),Object(R.jsx)(l.a,{name:r,size:a,color:c})},tabBarActiveTintColor:"green",tabBarInactiveTintColor:"black"}},children:Object(R.jsx)(Y.Screen,{name:"Chaves",component:M,options:{headerShown:!1,headerTitle:"Portaria"}})})}function X(){var e={prefixes:[K]};return Object(R.jsx)(j.a,{children:Object(R.jsx)(s.a,{linking:e,children:Object(R.jsxs)(V.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"Login",children:[Object(R.jsx)(V.Screen,{name:"Login",component:W}),Object(R.jsx)(V.Screen,{name:"Dashboard",component:Q})]})})})}},253:function(e,t,r){e.exports=r(331)},272:function(e,t){}},[[253,1,2]]]);
//# sourceMappingURL=app.6e4ac9cc.chunk.js.map